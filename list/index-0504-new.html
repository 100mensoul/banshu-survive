<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>ヒメラボ（Hime Lab）｜播州サバイブ リサーチログ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    /* ベーススタイル */
    body { font-family: "Hiragino Kaku Gothic ProN", sans-serif; margin: 1rem; background: #fefef0; color: #333; }
    h1 { text-align: center; margin-bottom: 1rem; }
    form, .modal-content { max-width: 600px; margin: 1rem auto; background: white; padding: 1rem; border-radius: 6px; box-shadow: 2px 2px 5px rgba(0,0,0,0.1); }
    input, textarea, select, button { width: 100%; padding: 0.5rem; font-size: 1rem; margin-bottom: 0.75rem; border-radius: 4px; box-sizing: border-box; }
    input, textarea, select { border: 1px solid #ccc; }
    button { background: #4caf50; color: white; border: none; cursor: pointer; }
    button.clear { background: #ccc; color: #333; }

    /* タグフィルタ */
    #tagFilters { text-align: center; margin: 1rem auto; display: flex; flex-wrap: wrap; gap: 0.5rem; max-width: 600px; }
    #tagFilters button { padding: 0.4rem 0.8rem; border: none; border-radius: 4px; cursor: pointer; }
    #tagFilters button.active { background: #4caf50; color: white; }

    /* カード */
    .card { position: relative; padding: 1rem; margin: 1rem auto; max-width: 600px; border-radius: 8px; box-shadow: 2px 2px 5px rgba(0,0,0,0.1); background: white; }
    .card h2 { margin-top: 0; }
    .badge { display: inline-block; padding: 0.2rem 0.5rem; border-radius: 4px; font-size: 0.85rem; color: white; margin: 0.25rem 0.25rem 0 0; }

    /* 固定タグ色分け */
    .card[data-fixed="プロジェクト"] { border-left: 4px solid #1976d2; }
    .card[data-fixed="団体・組織"] { border-left: 4px solid #388e3c; }
    .card[data-fixed="企業"]     { border-left: 4px solid #f57c00; }
    .card[data-fixed="個人活動"] { border-left: 4px solid #7b1fa2; }
    .card[data-fixed="公共施設"] { border-left: 4px solid #0288d1; }
    .card[data-fixed="道の駅"]   { border-left: 4px solid #d32f2f; }

    /* モーダル */
    .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); justify-content: center; align-items: center; }
    .modal-content { background: white; width: 90%; max-width: 500px; position: relative; padding: 1rem; border-radius: 6px; }
    .modal-close { position: absolute; top: 0.5rem; right: 0.5rem; background: #f44336; color: white; border: none; padding: 0.3rem 0.6rem; cursor: pointer; }
  </style>
</head>
<body>

  <h1>ヒメラボ（Hime Lab） リサーチログ</h1>

  <form id="form">
    <label>固定タグ<select name="fixedTag" required>
        <option value="">選択してください</option>
        <option>プロジェクト</option>
        <option>団体・組織</option>
        <option>企業</option>
        <option>個人活動</option>
        <option>公共施設</option>
        <option>道の駅</option>
      </select></label>
    <label>自由タグ（#付）<input list="freeTagList" name="freeTagInput" placeholder="#職人" /><datalist id="freeTagList"></datalist></label>
    <input type="text" name="name" placeholder="施設名・プロジェクト名" required />
    <input type="text" name="location" placeholder="所在地（例：長野県信濃町）" required />
    <button type="button" id="openDetails">詳細を入力</button>
    <div id="sitesContainer"></div>
    <button type="button" id="addSite">サイト追加</button>
    <button type="submit">追加</button>
  </form>

  <div id="tagFilters"></div>
  <input type="text" id="textSearch" placeholder="キーワード検索" style="width:100%; max-width:600px; margin:0.5rem auto; display:block;" />
  <div id="projectList"></div>

  <div id="modal" class="modal">
    <div class="modal-content">
      <button class="modal-close">×</button>
      <h2>詳細情報</h2>
      <div id="relationsContainer"></div>
      <button type="button" id="addRelation">関係者追加</button>
    </div>
  </div>

  <script type="module" src="./js/main.js"></script>

</body>
</html>
