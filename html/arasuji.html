<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>„ÅÇ„Çâ„Åô„ÅòÔΩúÊí≠Â∑û„Çµ„Éê„Ç§„Éñ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../css/arasuji.css">
  <style>
    body {
      margin: 0;
      padding: 0;
      background-color: white;
      overflow: hidden;
    }

    .intro-screen {
      width: 100vw;
      height: 100vh;
      background-image: url('../images/shikkui-wall.png');
      background-size: cover;
      background-position: center;
      position: relative;
      z-index: 1;
    }

    .circle-wrapper {
      display: flex;
      justify-content: center;
      gap: 80px;
      position: absolute;
      top: 40%;
      left: 50%;
      transform: translateX(-50%);
    }

    .circle {
      width: 120px;
      height: 120px;
      border: 2px solid #333;
      border-radius: 50%;
      position: relative;
    }

    .circle::after {
      content: attr(data-label);
      font-family: 'Yuji Boku', serif;
      font-size: 2.5rem;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0);
      opacity: 0;
      transition: all 0.3s ease;
    }

    .circle:hover::after {
      transform: translate(-50%, -50%) scale(1);
      opacity: 1;
    }

    .eye-link {
      position: absolute;
      top: calc(50% - 160px);
      left: 50%;
      transform: translateX(-50%);
      width: 80px;
      height: 80px;
      background: transparent;
      cursor: url('https://emojicdn.elk.sh/%F0%9F%91%81') 16 16, auto;
    }

    .crack-svg {
      position: absolute;
      top: 30%;
      left: 50%;
      transform: translateX(-50%);
      width: 300px;
      height: 400px;
      z-index: 5;
      display: none;
    }

    .crack-svg path {
      stroke: black;
      stroke-width: 2;
      fill: none;
      stroke-dasharray: 900;
      stroke-dashoffset: 900;
      animation: drawCrack 1.2s ease-out forwards;
    }

    @keyframes drawCrack {
      to {
        stroke-dashoffset: 0;
      }
    }
  </style>
</head>
<body>
  <div class="intro-screen" id="introScreen">
    <!-- ‰∫åÈáçÂÜÜÔºöÂàùÂõû„ÅÆ„Åø -->
    <div class="circle-wrapper" id="circleWrapper">
      <div class="circle" data-label="Êí≠"></div>
      <div class="circle" data-label="Â∑û"></div>
    </div>

    <!-- Èö†„Åó„Ç¢„Ç§„Ç≥„É≥ÔºöüëÅ -->
    <a href="fiction.html" class="eye-link" aria-label="ÁúüÂÆü„ÅØ„Éï„Ç£„ÇØ„Ç∑„Éß„É≥"></a>

    <!-- „ÇØ„É©„ÉÉ„ÇØSVG„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ -->
<div class="crack-svg" id="crackSVG" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 5;">
  <svg viewBox="0 0 1000 1000" width="100%" height="100%" preserveAspectRatio="xMidYMid meet">
    <path d="M 21,69 19,71 19,87 20,88 19,89 19,106 20,107 19,108 19,116 20,117 19,118 19,191 20,192 19,193 19,238 20,239 19,240 19,249 20,250 19,251 19,254 20,255 19,256 19,387 20,388 19,389 19,574 20,575 20,579 19,580 19,810 20,811 19,812 19,992 20,993 232,993 233,994 236,994 237,993 317,993 318,994 319,993 320,994 321,993 943,993 943,70 942,69 647,69 646,70 644,70 643,69 642,70 640,70 639,69 551,69 550,70 547,70 546,69 51,69 50,70 49,69 47,69 46,70 43,70 42,69"
      fill="none"
      stroke="black"
      stroke-width="2"
      stroke-dasharray="3000"
      stroke-dashoffset="3000">
      <animate attributeName="stroke-dashoffset"
               from="3000" to="0"
               dur="1.5s"
               fill="freeze" />
    </path>
  </svg>
</div>
</div>

  <script>
    const fromFiction = sessionStorage.getItem('fromFiction');
    const crackSVG = document.getElementById('crackSVG');
    const circle = document.getElementById('circleWrapper');

    if (fromFiction === 'yes') {
      if (circle) circle.style.display = 'none';
      if (crackSVG) crackSVG.style.display = 'block';
      sessionStorage.removeItem('fromFiction');
    }
  </script>
</body>
</html>